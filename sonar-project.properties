# SonarQube Configuration for LIMS Application
# This configuration enables comprehensive code quality analysis and security scanning

# Project identification
sonar.projectKey=labscientific-lims
sonar.projectName=LabScientific LIMS
sonar.projectVersion=1.0.0
sonar.projectDescription=Laboratory Information Management System with comprehensive genetic analysis capabilities

# Source code configuration
sonar.sources=src,backend
sonar.tests=tests
sonar.sourceEncoding=UTF-8

# Language-specific settings
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.css.aggregate.reportPaths=coverage/css-coverage.xml

# Test configuration
sonar.test.inclusions=**/*.test.js,**/*.test.jsx,**/*.test.ts,**/*.test.tsx,**/*.spec.js,**/*.spec.jsx,**/*.spec.ts,**/*.spec.tsx
sonar.test.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/coverage/**

# Coverage configuration
sonar.coverage.exclusions=**/*.test.js,**/*.test.jsx,**/*.test.ts,**/*.test.tsx,**/*.spec.js,**/*.spec.jsx,**/*.spec.ts,**/*.spec.tsx,**/node_modules/**,**/dist/**,**/build/**,**/coverage/**,**/config/**,**/migrations/**,**/seeds/**,**/*.config.js,**/*.config.ts,**/webpack.*.js,**/rollup.*.js

# Exclusions
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/coverage/**,**/docs/**,**/logs/**,**/tmp/**,**/*.min.js,**/*.min.css,**/vendor/**,**/public/assets/**,**/static/**

# Duplications
sonar.cpd.exclusions=**/*.test.js,**/*.test.jsx,**/*.test.ts,**/*.test.tsx,**/*.spec.js,**/*.spec.jsx,**/*.spec.ts,**/*.spec.tsx,**/migrations/**,**/seeds/**

# File patterns
sonar.javascript.file.suffixes=.js,.jsx
sonar.typescript.file.suffixes=.ts,.tsx
sonar.css.file.suffixes=.css,.scss,.less
sonar.html.file.suffixes=.html,.htm,.xhtml,.xml

# Analysis parameters
sonar.analysis.mode=publish
sonar.buildString=GitHub Actions Build
sonar.links.homepage=https://github.com/your-org/labscientific-lims
sonar.links.ci=https://github.com/your-org/labscientific-lims/actions
sonar.links.issue=https://github.com/your-org/labscientific-lims/issues
sonar.links.scm=https://github.com/your-org/labscientific-lims

# Quality profiles
sonar.profile.js=Sonar way
sonar.profile.ts=Sonar way
sonar.profile.css=Sonar way
sonar.profile.html=Sonar way

# Quality gates
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# Code smells and maintainability
sonar.javascript.globals=global,process,Buffer,__dirname,__filename,module,require,exports,console,setTimeout,setInterval,clearTimeout,clearInterval
sonar.typescript.globals=global,process,Buffer,__dirname,__filename,module,require,exports,console,setTimeout,setInterval,clearTimeout,clearInterval

# Security hotspots
sonar.security.hotspots.inheritance=true
sonar.security.hotspots.reviewed=true

# Technical debt
sonar.technicalDebt.developmentCost=30
sonar.technicalDebt.ratingGrid=0.1,0.2,0.5,1.0

# SCM configuration
sonar.scm.provider=git
sonar.scm.forceReloadAll=false

# Pull request analysis
sonar.pullrequest.provider=github
sonar.pullrequest.github.repository=your-org/labscientific-lims
sonar.pullrequest.github.endpoint=https://api.github.com/

# Branch analysis
sonar.branch.name=main
sonar.branch.target=main

# Custom rules and plugins
sonar.plugins.downloadOnlyRequired=false

# Performance settings
sonar.scanner.metadataFilePath=.sonar/report-task.txt
sonar.scanner.dumpToFile=.sonar/sonar-scanner-dump.txt

# Logging
sonar.log.level=INFO
sonar.verbose=false

# Working directory
sonar.working.directory=.sonar

# External analyzers
sonar.eslint.reportPaths=eslint-report.json
sonar.tslint.reportPaths=tslint-report.json
sonar.eslint.eslintconfigpath=.eslintrc.js

# Custom metrics
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5,e6,e7,e8,e9,e10

# Ignore rules for specific cases
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S3923
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.test.js

sonar.issue.ignore.multicriteria.e2.ruleKey=javascript:S2699
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.test.js

sonar.issue.ignore.multicriteria.e3.ruleKey=javascript:S4144
sonar.issue.ignore.multicriteria.e3.resourceKey=**/migrations/*.js

sonar.issue.ignore.multicriteria.e4.ruleKey=javascript:S1192
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*.test.js

sonar.issue.ignore.multicriteria.e5.ruleKey=javascript:S3776
sonar.issue.ignore.multicriteria.e5.resourceKey=**/migrations/*.js

sonar.issue.ignore.multicriteria.e6.ruleKey=javascript:S138
sonar.issue.ignore.multicriteria.e6.resourceKey=**/*.config.js

sonar.issue.ignore.multicriteria.e7.ruleKey=javascript:S1481
sonar.issue.ignore.multicriteria.e7.resourceKey=**/seeds/*.js

sonar.issue.ignore.multicriteria.e8.ruleKey=javascript:S1854
sonar.issue.ignore.multicriteria.e8.resourceKey=**/tests/setup/*.js

sonar.issue.ignore.multicriteria.e9.ruleKey=javascript:S3504
sonar.issue.ignore.multicriteria.e9.resourceKey=**/webpack.*.js

sonar.issue.ignore.multicriteria.e10.ruleKey=javascript:S1116
sonar.issue.ignore.multicriteria.e10.resourceKey=**/tests/fixtures/*.js

# Environment-specific settings
sonar.environment=development

# Docker configuration (if running in container)
sonar.host.url=http://localhost:9000
sonar.login=admin
sonar.password=admin

# Custom properties for LIMS domain
sonar.lims.genetic.analysis.enabled=true
sonar.lims.sample.tracking.enabled=true
sonar.lims.reporting.enabled=true
sonar.lims.security.level=high
sonar.lims.compliance.framework=HIPAA,GDPR,SOC2

# Analysis scope
sonar.inclusions=src/**/*,backend/**/*
sonar.test.inclusions=tests/**/*,src/**/*.test.js,backend/**/*.test.js

# File size limits
sonar.javascript.file.suffixes=.js,.jsx,.mjs,.cjs
sonar.typescript.file.suffixes=.ts,.tsx,.mts,.cts

# Memory and performance
sonar.ce.javaOpts=-Xmx4g -Xms1g
sonar.web.javaOpts=-Xmx2g -Xms1g
sonar.search.javaOpts=-Xmx2g -Xms1g

# Database configuration (if using external DB)
sonar.jdbc.url=jdbc:postgresql://localhost:5432/sonarqube
sonar.jdbc.username=sonar
sonar.jdbc.password=sonar

# Elasticsearch configuration
sonar.search.host=localhost
sonar.search.port=9001

# Security configuration
sonar.security.realm=LDAP
sonar.authenticator.downcase=true
sonar.security.localUsers=admin

# Webhook configuration
sonar.webhooks.project=https://your-ci-server.com/webhook/sonar

# Custom dashboard
sonar.projectDate=2024-01-01
sonar.projectTag=lims,laboratory,genetic-analysis,healthcare

# Language-specific analysis
sonar.javascript.environments=node,browser,es6,es2017,es2020,es2022
sonar.typescript.environments=node,browser,es6,es2017,es2020,es2022

# Import paths
sonar.javascript.globals=React,ReactDOM,jest,describe,it,expect,beforeEach,afterEach,beforeAll,afterAll

# External report paths
sonar.testExecutionReportPaths=test-results/sonar-report.xml
sonar.coverageReportPaths=coverage/sonar-coverage.xml

# Plugin configuration
sonar.plugins.risk.consent=ACCEPTED

# Advanced settings
sonar.projectBaseDir=.
sonar.scanner.os=linux
sonar.scanner.arch=x64